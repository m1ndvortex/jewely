# Nginx Logging Configuration
# Provides structured logging with response times and metrics

# Access log with detailed timing information
# Includes: request time, upstream connect time, upstream header time, upstream response time
# Format: main (defined in nginx.conf)
access_log /var/log/nginx/access.log main buffer=32k flush=5s;

# JSON access log for structured log aggregation (Loki, ELK, etc.)
# Uncomment to enable JSON logging alongside standard logs
# access_log /var/log/nginx/access-json.log json_combined buffer=32k flush=5s;

# Error log configuration
# Levels: debug, info, notice, warn, error, crit, alert, emerg
# Default: warn (logs warnings and above)
error_log /var/log/nginx/error.log warn;

# Separate error log for critical errors only
# Useful for alerting on critical issues
error_log /var/log/nginx/error-critical.log crit;

# Log format reference (defined in nginx.conf):
# - $request_time: Total time to process request (seconds)
# - $upstream_connect_time: Time to establish connection with upstream
# - $upstream_header_time: Time to receive response headers from upstream
# - $upstream_response_time: Time to receive full response from upstream
#
# These metrics are essential for:
# - Performance monitoring and optimization
# - Identifying slow endpoints
# - Debugging upstream issues
# - SLA compliance tracking
