# WebSocket Proxy Configuration
# Include this in location blocks that handle WebSocket connections

# Use HTTP/1.1 for WebSocket
proxy_http_version 1.1;

# WebSocket upgrade headers
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection "upgrade";

# WebSocket connection timeouts
# 24 hours is reasonable for long-lived WebSocket connections
proxy_connect_timeout 24h;
proxy_send_timeout 24h;
proxy_read_timeout 24h;

# Disable buffering for WebSocket
proxy_buffering off;

# Enable TCP nodelay for low latency
tcp_nodelay on;
