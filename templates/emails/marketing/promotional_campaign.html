{% extends "emails/base.html" %}

{% block title %}{{ campaign_title }}{% endblock %}

{% block header_title %}{{ shop_name|default:"Jewelry Store" }}{% endblock %}

{% block content %}
<div style="text-align: center; margin-bottom: 30px;">
    {% if banner_image %}
    <img src="{{ banner_image }}" alt="{{ campaign_title }}" style="max-width: 100%; height: auto; border-radius: 8px;">
    {% endif %}
</div>

<h2 style="text-align: center; color: #1f2937;">{{ campaign_title }}</h2>

<p>Dear {{ user.first_name|default:"Valued Customer" }},</p>

<div style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); padding: 20px; border-radius: 8px; text-align: center; color: white; margin: 20px 0;">
    <h3 style="margin: 0 0 10px 0; font-size: 24px;">{{ offer_title }}</h3>
    <p style="margin: 0; font-size: 18px;">{{ offer_description }}</p>
    {% if discount_percentage %}
    <div style="font-size: 36px; font-weight: bold; margin: 10px 0;">{{ discount_percentage }}% OFF</div>
    {% endif %}
</div>

<div style="margin: 30px 0;">
    {{ campaign_content|safe }}
</div>

{% if featured_products %}
<h3>Featured Items:</h3>
<div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0;">
    {% for product in featured_products %}
    <div style="flex: 1; min-width: 250px; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; text-align: center;">
        {% if product.image %}
        <img src="{{ product.image }}" alt="{{ product.name }}" style="width: 100%; max-width: 200px; height: auto; border-radius: 4px;">
        {% endif %}
        <h4 style="margin: 12px 0 8px 0;">{{ product.name }}</h4>
        <p style="color: #6b7280; margin: 0 0 8px 0;">{{ product.karat }}K Gold | {{ product.weight_grams }}g</p>
        <div style="font-size: 18px; font-weight: bold; color: #1f2937;">
            {% if product.sale_price %}
            <span style="text-decoration: line-through; color: #9ca3af; font-size: 14px;">${{ product.original_price }}</span>
            <span style="color: #dc2626;">${{ product.sale_price }}</span>
            {% else %}
            ${{ product.selling_price }}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

<div style="text-align: center; margin: 30px 0;">
    <a href="{{ shop_url }}" class="button" style="font-size: 18px; padding: 16px 32px;">Shop Now</a>
</div>

{% if offer_expiry %}
<div class="alert alert-warning" style="text-align: center;">
    <strong>Limited Time Offer!</strong><br>
    This offer expires on {{ offer_expiry|date:"F d, Y" }}. Don't miss out!
</div>
{% endif %}

<div style="background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h4 style="margin: 0 0 12px 0;">Why Choose Us?</h4>
    <ul style="margin: 0; padding-left: 20px;">
        <li>Certified authentic gold and precious stones</li>
        <li>Expert craftsmanship with lifetime warranty</li>
        <li>Free cleaning and maintenance services</li>
        <li>Flexible payment options available</li>
        <li>30-day return policy</li>
    </ul>
</div>

<p>
    Thank you for being a valued customer. We look forward to serving you!
</p>

<p style="text-align: center;">
    <a href="{{ unsubscribe_url }}" style="color: #6b7280; font-size: 12px; text-decoration: none;">
        Unsubscribe from marketing emails
    </a>
</p>
{% endblock %}