{% extends "base.html" %}
{% load i18n %}

{# This template demonstrates proper use of Django's translation template tags #}

{% block title %}{% trans "Translation Example" %} - {% trans "Jewelry Shop" %}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    {# Simple translation with {% trans %} #}
    <h1 class="text-3xl font-bold mb-6">{% trans "Translation Example Page" %}</h1>
    
    {# Translation with context #}
    <p class="mb-4">
        {% trans "This page demonstrates how to use Django's translation system." %}
    </p>
    
    {# Block translation for longer text with variables #}
    <div class="bg-blue-100 border-l-4 border-blue-500 p-4 mb-6">
        {% blocktrans with name=user.get_full_name %}
        Welcome back, {{ name }}! We're glad to see you again.
        {% endblocktrans %}
    </div>
    
    {# Translation with pluralization #}
    <div class="mb-6">
        {% blocktrans count counter=items.count %}
        You have {{ counter }} item in your inventory.
        {% plural %}
        You have {{ counter }} items in your inventory.
        {% endblocktrans %}
    </div>
    
    {# Navigation menu with translations #}
    <nav class="mb-6">
        <ul class="flex space-x-4">
            <li><a href="{% url 'dashboard' %}" class="text-blue-600 hover:underline">{% trans "Dashboard" %}</a></li>
            <li><a href="{% url 'inventory_list' %}" class="text-blue-600 hover:underline">{% trans "Inventory" %}</a></li>
            <li><a href="{% url 'sales_list' %}" class="text-blue-600 hover:underline">{% trans "Sales" %}</a></li>
            <li><a href="{% url 'customer_list' %}" class="text-blue-600 hover:underline">{% trans "Customers" %}</a></li>
        </ul>
    </nav>
    
    {# Form with translated labels and help text #}
    <form method="post" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        {% csrf_token %}
        
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
                {% trans "Name" %}
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                   id="name" 
                   type="text" 
                   placeholder="{% trans 'Enter your name' %}">
            <p class="text-gray-600 text-xs italic">{% trans "Please enter your full name." %}</p>
        </div>
        
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
                {% trans "Email Address" %}
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                   id="email" 
                   type="email" 
                   placeholder="{% trans 'Enter your email' %}">
        </div>
        
        <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="message">
                {% trans "Message" %}
            </label>
            <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                      id="message" 
                      rows="4" 
                      placeholder="{% trans 'Enter your message' %}"></textarea>
        </div>
        
        <div class="flex items-center justify-between">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" 
                    type="submit">
                {% trans "Submit" %}
            </button>
            <a class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800" href="#">
                {% trans "Cancel" %}
            </a>
        </div>
    </form>
    
    {# Table with translated headers #}
    <div class="overflow-x-auto mb-6">
        <table class="min-w-full bg-white border border-gray-300">
            <thead>
                <tr class="bg-gray-100">
                    <th class="py-2 px-4 border-b">{% trans "Product Name" %}</th>
                    <th class="py-2 px-4 border-b">{% trans "SKU" %}</th>
                    <th class="py-2 px-4 border-b">{% trans "Price" %}</th>
                    <th class="py-2 px-4 border-b">{% trans "Quantity" %}</th>
                    <th class="py-2 px-4 border-b">{% trans "Status" %}</th>
                    <th class="py-2 px-4 border-b">{% trans "Actions" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td class="py-2 px-4 border-b">{{ item.name }}</td>
                    <td class="py-2 px-4 border-b">{{ item.sku }}</td>
                    <td class="py-2 px-4 border-b">{{ item.price }}</td>
                    <td class="py-2 px-4 border-b">{{ item.quantity }}</td>
                    <td class="py-2 px-4 border-b">
                        {% if item.is_active %}
                            <span class="text-green-600">{% trans "Active" %}</span>
                        {% else %}
                            <span class="text-red-600">{% trans "Inactive" %}</span>
                        {% endif %}
                    </td>
                    <td class="py-2 px-4 border-b">
                        <a href="#" class="text-blue-600 hover:underline">{% trans "Edit" %}</a>
                        <a href="#" class="text-red-600 hover:underline ml-2">{% trans "Delete" %}</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="py-4 px-4 text-center text-gray-500">
                        {% trans "No items found." %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    {# Status messages with translations #}
    <div class="space-y-4">
        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4">
            <p class="font-bold">{% trans "Success" %}</p>
            <p>{% trans "Your changes have been saved successfully." %}</p>
        </div>
        
        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4">
            <p class="font-bold">{% trans "Warning" %}</p>
            <p>{% trans "Please review your information before submitting." %}</p>
        </div>
        
        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4">
            <p class="font-bold">{% trans "Error" %}</p>
            <p>{% trans "An error occurred while processing your request." %}</p>
        </div>
        
        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4">
            <p class="font-bold">{% trans "Information" %}</p>
            <p>{% trans "This is an informational message." %}</p>
        </div>
    </div>
    
    {# Confirmation dialog example #}
    <div class="mt-6">
        <button onclick="confirmDelete()" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
            {% trans "Delete Item" %}
        </button>
    </div>
</div>

<script>
function confirmDelete() {
    // Note: JavaScript strings also need translation
    // Use Django's javascript_catalog view for this
    if (confirm("{% trans 'Are you sure you want to delete this item?' %}")) {
        // Proceed with deletion
        alert("{% trans 'Item deleted successfully.' %}");
    }
}
</script>
{% endblock %}
