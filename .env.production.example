# ============================================================================
# Production Environment Configuration
# Jewelry Management SaaS Platform
# ============================================================================
# IMPORTANT: Copy this file to .env and update all values
# Never commit .env file to version control
# ============================================================================

# ============================================================================
# Django Core Settings
# ============================================================================
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-very-long-random-secret-key-minimum-50-characters-change-this-in-production

# CRITICAL: Set to False in production
DEBUG=False

# Add your domain names (comma-separated, no spaces)
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# Django settings module
DJANGO_SETTINGS_MODULE=config.settings

# Application version (for image tagging)
VERSION=1.0.0

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_DB=jewelry_shop

# PostgreSQL superuser (for database initialization)
DB_SUPERUSER=postgres
DB_SUPERUSER_PASSWORD=CHANGE-THIS-STRONG-PASSWORD-FOR-POSTGRES-SUPERUSER

# Application database user
APP_DB_PASSWORD=CHANGE-THIS-STRONG-PASSWORD-FOR-APP-USER

# Database connection settings
POSTGRES_HOST=pgbouncer
POSTGRES_PORT=6432

# PgBouncer Configuration
USE_PGBOUNCER=True
PGBOUNCER_HOST=pgbouncer
PGBOUNCER_PORT=6432

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# ============================================================================
# Celery Configuration
# ============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_ALWAYS_EAGER=False
CELERY_TASK_EAGER_PROPAGATES=False

# ============================================================================
# Email Configuration
# ============================================================================
# Use SMTP backend for production
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# SMTP Server Settings (example: Gmail, SendGrid, AWS SES)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False

# Default from email
DEFAULT_FROM_EMAIL=noreply@your-domain.com
SERVER_EMAIL=server@your-domain.com

# ============================================================================
# SMS Configuration (Twilio)
# ============================================================================
# Get credentials from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token-here
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# Backup & Storage Configuration
# ============================================================================
# Backup encryption key
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
BACKUP_ENCRYPTION_KEY=your-fernet-encryption-key-here

# Cloudflare R2 Configuration
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=securesyntax
R2_ENDPOINT_URL=https://b7900eeee7c415345d86ea859c9dad47.r2.cloudflarestorage.com
R2_REGION=auto

# Backblaze B2 Configuration
B2_APPLICATION_KEY_ID=your-b2-application-key-id
B2_APPLICATION_KEY=your-b2-application-key
B2_BUCKET_NAME=securesyntax
B2_ENDPOINT_URL=https://s3.us-east-005.backblazeb2.com
B2_REGION=us-east-005

# Local backup retention (days)
LOCAL_BACKUP_RETENTION_DAYS=30

# Cloud backup retention (days)
CLOUD_BACKUP_RETENTION_DAYS=365

# ============================================================================
# Payment Gateway Configuration
# ============================================================================
# Stripe Configuration
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your-live-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_live_your-live-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here
STRIPE_LIVE_MODE=True

# ============================================================================
# External API Configuration
# ============================================================================
# Gold Rate APIs
# GoldAPI: https://www.goldapi.io/
GOLDAPI_KEY=your-goldapi-key-here

# Metals-API: https://metals-api.com/
METALS_API_KEY=your-metals-api-key-here

# ============================================================================
# Monitoring & Observability
# ============================================================================
# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE-THIS-STRONG-GRAFANA-PASSWORD
GRAFANA_ROOT_URL=https://grafana.your-domain.com

# Prometheus Configuration
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# Sentry Error Tracking
# Get DSN from: https://sentry.io/settings/[organization]/projects/[project]/keys/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# SSL/TLS Configuration
# ============================================================================
# Domain name for SSL certificate
NGINX_DOMAIN=your-domain.com

# Email for Let's Encrypt notifications
LETSENCRYPT_EMAIL=admin@your-domain.com

# ============================================================================
# Security Settings
# ============================================================================
# Session cookie settings
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# CSRF cookie settings
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=Lax

# Secure SSL redirect
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# HSTS settings
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self','unsafe-inline','unsafe-eval'
CSP_STYLE_SRC='self','unsafe-inline'
CSP_IMG_SRC='self',data:,https:
CSP_FONT_SRC='self',data:

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO
SQL_LOG_LEVEL=WARNING

# ============================================================================
# Performance Settings
# ============================================================================
# Cache timeout (seconds)
CACHE_TIMEOUT=300

# Session timeout (seconds)
SESSION_COOKIE_AGE=86400

# ============================================================================
# Feature Flags
# ============================================================================
# Enable/disable features
ENABLE_REGISTRATION=True
ENABLE_API=True
ENABLE_WEBHOOKS=True
ENABLE_NOTIFICATIONS=True

# ============================================================================
# Rate Limiting
# ============================================================================
# API rate limits (requests per hour)
API_RATE_LIMIT=1000
LOGIN_RATE_LIMIT=5

# ============================================================================
# Internationalization
# ============================================================================
# Default language
LANGUAGE_CODE=en-us

# Timezone
TIME_ZONE=UTC

# Enable i18n
USE_I18N=True
USE_L10N=True
USE_TZ=True

# ============================================================================
# Media & Static Files
# ============================================================================
# Media files (user uploads)
MEDIA_ROOT=/app/media
MEDIA_URL=/media/

# Static files
STATIC_ROOT=/app/staticfiles
STATIC_URL=/static/

# ============================================================================
# NOTES
# ============================================================================
# 1. Generate strong passwords for all services
# 2. Never use default passwords in production
# 3. Keep this file secure and never commit to version control
# 4. Rotate secrets regularly (quarterly recommended)
# 5. Use environment-specific values for each deployment
# 6. Test configuration in staging before production
# 7. Document any custom environment variables
# 8. Backup this file securely (encrypted)
# ============================================================================
